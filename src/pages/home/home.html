<ion-header>
  <ion-navbar>
    <ion-title  *ngIf="!searchOpen">Home</ion-title>
    <ion-buttons 
      start 
      *ngIf="!searchOpen">
      <button 
        ion-button 
        icon-only 
        menuToggle >
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end *ngIf="!searchOpen">
      <button
        ion-button
        icon-only
        (click)="searchOpen = true;"
        >
        <ion-icon name="search"></ion-icon>
      </button>
      
    </ion-buttons>
    <app-searchbar (onInput)="onSearchInputChange($event)" (onCancel)="searchOpen = false" *ngIf="searchOpen"></app-searchbar>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-grid>
    <ion-row>
      <ion-col col-6 *ngFor="let product of products">
        <ion-card>
          <img [src]="product.images[0]" *ngIf="product.images && product.images[0]" />
          <img [src]="'http://via.placeholder.com/300x250'" *ngIf="!product.images || !product.images[0]"/>
          <ion-card-content>
            <ion-card-title>
              {{ product.title }}
            </ion-card-title>
            <p>
              {{product.description | slice: 0:20 }}
            </p>
            <ion-note>Trade with:</ion-note>
            <p text-right> {{ product.trade_with.join(', ')}}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
